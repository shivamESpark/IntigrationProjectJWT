<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detailed</title>
</head>
<style>
    #main{
        margin: 10px auto;
        text-align: center;
    }
   
    tr:nth-child(2n){
        background-color: bisque;
        text-align: center;
    }
    tr:nth-child(2n + 1){
        background-color: rgb(238, 228, 215);
        text-align: center;
    }
    td{
        padding: 10px 40px;
    }
    #handler, form, form select{
        margin: 20px auto;
        text-align: center;
        font-size: 20px;
        font-weight: bold;
    }
    .exam{
        margin: 0px auto;
        padding: 30px;
        background-color: aliceblue;
    }
    .sdetail{
        background-color: #3a1d0a;
        color: wheat;
        padding: 30px;
    }
    #terminal{
        background-color: #ffd39a;
    }
    #internal{
        background-color: #fab964;
    }
    #final{
        background-color:  #f1a33d;
    }
    h1{
        background-color: #b7f593;
        color:black;
    }
    .thead td{
        background-color: #3a1d0a;
        color:wheat;
        font-weight: bolder;
    }
    #backa{
        background-color: #3a1d0a;
        border-radius: 7px;
        padding: 10px 30px;
        text-decoration: none;
        color: wheat;
    }
   
</style>

<body>
    <div id="main">
        <div class="sdetail">
            <h1>Detailed Result</h1>    
            <h3 id="sid">Student ID: <%= sid %></h3>
            <h3 id="sname">Student Name: <%= fname %> <%= lname %></h3>
        </div>
        

        <div class="exam" id="terminal">
            <h2>Terminal Exam</h2>
            <center>
            <table>
                <thead>
                    <tr class="thead">
                        <td>Subject Name</td>
                        <td>Subject Code</td>
                        <td>Marks T 40</td>
                        <td>Marks P 10</td>
                    </tr>
                </thead>
                <% let ttotal = 0; %>
                <% for(let i=0; i<tresult.length; i++){ %>
                    <% ttotal += parseInt(tresult[i].ftmarks) + parseInt(tresult[i].fpmarks) %>
                    <tr>
                        <td><%= tresult[i].subject %></td>
                        <td><%= tresult[i].scode %></td>
                        <td><%= tresult[i].ftmarks %></td>
                        <td><%= tresult[i].fpmarks %></td>
                    </tr>
                <% } %>
            </table>
            <h3>Total Marks = <%= ttotal %></h3>
            <h3>Percentage = <%= (ttotal*100/300).toFixed(2) %>%</h3>
            
        </center>
        </div>

        <div class="exam" id="internal">
            <h2>Interim Exam</h2>
            <center>
            <table>
                <thead>
                    <tr class="thead">
                        <td>Subject Name</td>
                        <td>Subject Code</td>
                        <td>Marks T 40</td>
                        <td>Marks P 10</td>
                    </tr>
                </thead>
                <% let itotal = 0; %>
                <% for(let i=0; i<iresult.length; i++){ %>
                    <% itotal += parseInt(iresult[i].ftmarks)+parseInt(iresult[i].fpmarks) %>
                    <tr>
                        <td><%= iresult[i].subject %></td>
                        <td><%= iresult[i].scode %></td>
                        <td><%= iresult[i].ftmarks %></td>
                        <td><%= iresult[i].fpmarks %></td>
                    </tr>
                <% } %>
            </table>
            <h3>Total Marks = <%= itotal %></h3>
            <h3>Percentage = <%= (itotal*100/300).toFixed(2) %>%</h3>
            
        </center>
        </div>
        
        
        <div class="exam" id="final">
            <h2>Final Exam</h2>
            <center>
            <table>
                <thead>
                    <tr class="thead">
                        <td>Subject Name</td>
                        <td>Subject Code</td>
                        <td>Marks T 80</td>
                        <td>Marks P 20</td>
                    </tr>
                </thead>
                <% let total = 0; %>
                <% for(let i=0; i<result.length; i++){ %>
                    <% total += parseInt(result[i].ftmarks) %>
                    <tr>
                        <td><%= result[i].subject %></td>
                        <td><%= result[i].scode %></td>
                        <td><%= result[i].ftmarks %></td>
                        <td><%= result[i].fpmarks %></td>
                    </tr>
                <% } %>
            </table>
            <h3>Total Marks = <%= total %></h3>
            <h3>Percentage = <%= (total*100/480).toFixed(2) %>%</h3>
            <br><br>
            <h3 id="back"><a id="backa" href="http://localhost:8080/studentresult/result/?pid=<%= pid %>">Back</a></h3>
        </center>
        </div>
    </div>
    </div>  

</body>
</html>